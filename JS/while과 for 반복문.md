# While과 For 반복문

<br>

### While문

- condition이 truthy이면 반복문 본문의 코드가 실행됩니다.

```js
while (condition) {
  // 코드
  // '반복문 본문(body)'이라 부릅니다.
}
```

<br>

### 'do...while' 반복문

- 조건이 truthy 인지 아닌지 상관 없이, 본문을 `최소한 한번`이라도 실행하고 싶을 때만 사용해야 합니다.
- 대다수의 상황에선 `do..while`보다는 `while(...) {...}`이 적합니다.

```js
do {
  // 반복문 본문
} while (condition);
```

<br>

### For 반복문

- `while`반복문 보다 복잡하지만 가장 많이 사용합니다.

```js
for (begin; condition; step) {
  // ...반복문 본문...
}

// 반복문 실행 순서(알고리즘)
// begin을 실행합니다.
// condition이 truthy이면 -> 반복문 본문(body)를 실행합니다.
// 그리고 step을 실행합니다.
```

<br>

### 인라인 변수 선언

- 반복문 안에서만 접근 할 수 있는 변수 입니다.

```js
for (let i = 0; i < 3; i++) {
  alert(i);
}
alert(i); // Error 뜹니다.
```

<br>

### 반복문 빠져나오기

- 반복문은 조건이 falsy가 되면 반복문이 종료가 됩니다.
- 그러나 특별한 지시자인 `break`를 사용하면 언제든 원하는 때에 반복문을 빠져 나올 수 있습니다.

```js
let sum = 0;

while (true) {
  let value = +prompt("숫자를 입력하세요.", "");

  if (!value) break; // (*)

  sum += value;
}
alert("합계: " + sum);
```

<br>

### 다음 반복으로 넘어가기

- `continue` 지시자는 `break`의 가벼운 버전입니다.
- `continue`는 전체 반복문을 멈추지 않습니다.
- 현재 반복을 종료시키고 다음 반복으로 넘어가고 싶을 때 사용 할 수 있습니다.

```js
for (let i = 0; i < 10; i++) {
  // 조건이 참이라면 남아있는 본문은 실행되지 않습니다.
  if (i % 2 == 0) continue;

  alert(i); // 1, 3, 5, 7, 9가 차례대로 출력됨
}
```

<br>

### '?' 오른쪽엔 `break`나 `continue`가 올 수 없습니다.

- `break`나 `continue` 같은 지시자는 삼항 연산자에 사용하면 안됩니다.

```js
(i > 5) ? alert(i) : continue; // 여기에 continue를 사용하면 안 됩니다.

// ?를 if문 대용으로 쓰지 말아야 하는 이유 중 하나 입니다.
```

### break/continue와 레이블

- 여러 개의 중첩 반복문을 한 번에 빠져 나올 때 사용 합니다.
- 반복문 앞에 콜론과 함께 쓰이는 식별자 입니다.

```js
outer: for (let i = 0; i < 3; i++) {
  for (let j = 0; j < 3; j++) {
    let input = prompt(`(${i},${j})의 값`, "");

    // 사용자가 아무것도 입력하지 않거나 Cancel 버튼을 누르면 두 반복문 모두를 빠져나옵니다.
    if (!input) break outer; // (*)

    // 입력받은 값을 가지고 무언가를 함
  }
}
alert("완료!");
```

<br>

### 생각해보기

```js
// 후위형 증가 연사자를 사용한 경우(i++)
for (let i = 0; i < 5; i++) alert(i);

// 전위형 증가 연산자를 사용한 경우(++i)
for (let i = 0; i < 5; ++i) alert(i);

// 모든 작업이 시작되기 전 일단 i = 0입니다.
// i < 5 조건을 만족하는지 확인합니다.
// 위 조건이 true이면 반복문의 본문 alert(i)가 실행되고, 그 이후 i++가 실행됩니다.
// i++는 위 알고리즘의 두 번째 단계(조건 확인)와 별개로 실행됩니다. 전혀 다른 구문이기 때문이죠.
// 증가 연산자가 반환하는 값은 (2) 에서 쓰이지 않기 때문에 i++와 ++i에 차이가 없습니다.
```

<br>

```js
// 후위형 증가 연사자를 사용한 경우(i++)
let i = 0;
while (++i < 5) alert(i);

// 전위형 증가 연산자를 사용한 경우(++i)
let i = 0;
while (i++ < 5) alert(i);

// 전위형 증가 연산자
// ++i는 i를 먼저 증가시키고 새로운 값을 반환하기 때문에
// 첫 번째 while 반복문에선 1과 5를 비교(1 < 5)하고, 얼럿 창엔 1이 출력됩니다.
// 1에 이어서 2, 3, 4…이 출력됩니다. i 앞에 ++가 붙어있기 때문에 5는 항상 증가 이후의 값과 비교됩니다.
// i = 4 이후에 i의 값이 5로 증가하면 while(5 < 5)안의 비교가 실패하기 때문에
// 반복문은 멈춥니다. 따라서 5는 출력되지 않습니다.

// 후위형 증가 연산자
// 후위 증가 연산자를 적용하면 i++는 i를 증가시키긴 하지만 기존 값을 반환합니다.
// 따라서 첫 번째 while 반복문에선 0과 5를 비교(0 < 5)합니다. 이 점이 전위 증가 연산자와의 차이입니다.
// 그런데 alert문은 조건문과 별개의 문이므로 얼럿창엔 1이 출력됩니다. i는 이미 증가한 이후이기 때문이죠.
// 1이 출력된 이후에 2, 3, 4…가 이어서 출력됩니다.
// i = 4일 때 잠시 생각을 가다듬어 봅시다. 전위 증가 연산자(++i)를 사용하면 값이 먼저 증가하기 때문에
// 5와 5를 비교하게 되는데, 여기선 후위 증가 연산자(i++)를 사용하고 있으므로 i는 증가하지만
// 기존 값인 4가 비교에 사용됩니다. 따라서 while(4 < 5)가 되고,
// 해당 조건은 참이므로 하단 블록이 실행되어 alert 창이 뜨게 됩니다.
// 다음 반복문은 while(5 < 5)이므로 마지막 출력되는 값은 5가 됩니다.
```
